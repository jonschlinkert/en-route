# en-route [![NPM version](https://badge.fury.io/js/en-route.svg)](http://badge.fury.io/js/en-route)  [![Build Status](https://travis-ci.org/jonschlinkert/en-route.svg)](https://travis-ci.org/jonschlinkert/en-route) 

> Routing for static site generators, build systems and task runners, heavily based on express.js routes but works with file objects. Used by Assemble, Verb, and Template.

## Install with [npm](npmjs.org)

```bash
npm i en-route --save
```

## API
### [Router](./lib/index.js#L24)

* **{Object}**: options    
* `returns` **{Router}**: which is an callable function  

Initialize a new `Router` with the given `options`.

### [.param](./lib/index.js#L81)

Map the given param placeholder `name`(s) to the given callback.

* `name` **{String}**    
* `fn` **{Function}**    
* `returns` **{app}**: for chaining  

Parameter mapping is used to provide pre-conditions to routes
which use normalized placeholders. For example a _:user_id_ parameter
could automatically load a user's information from the database without
any additional code,

The callback uses the same signature as middleware, the only difference
being that the value of the placeholder is passed, in this case the _id_
of the user. Once the `next()` function is invoked, just like middleware
it will continue on to execute the route, or subsequent parameter functions.

```js
app.param('user_id', function(file, next, id) {
  User.find(id, function(err, user) {
    if (err) {
      return next(err);
    } else if (!user) {
      return next(new Error('failed to load user'));
    }
    file.user = user;
    next();
  });
});
```

### [.use](./lib/index.js#L389)

Use the given middleware function, with optional path, defaulting to "/".

* `fn` **{Function}**    

The other difference is that _route_ path is stripped and not visible
to the handler function. The main effect of this feature is that mounted
handlers can operate without any code changes regardless of the "prefix"
pathname.

**Example**

```js
var router = new Router();

router.use(function (file, next) {
  false.should.be.true;
  next();
});
```

### [.route](./lib/index.js#L448)

Create a new Route for the given path.

* **{String}**: path    
* `returns`: {Route}  

Each route contains a separate middleware stack.

See the Route api documentation for details on adding handlers
and middleware to routes.

## Related
* [gulp-routes](https://github.com/assemble/gulp-routes): Add middleware to run for specified routes in your gulp pipeline.
* [assemble](http://assemble.io): Static site generator for Grunt.js, Yeoman and Node.js. Used by Zurb Foundation, Zurb Ink, H5BP/Effeckt, Less.js / lesscss.org, Topcoat, Web Experience Toolkit, and hundreds of other projects to build sites, themes, components, documentation, blogs and gh
* [verb](https://github.com/assemble/verb): Verb makes it dead simple to generate markdown documentation, using simple templates, with zero configuration required. A project without documentation is like a project that doesn't exist.
* [template](https://github.com/jonschlinkert/template): Render templates from any engine. Make custom template types, use layouts on pages, partials or any custom template type, custom delimiters, helpers, middleware, routes, loaders, and lots more. Powers Assemble v0.6.0, Verb v0.3.0 and your application.

## Authors
 
**Jon Schlinkert**
 
+ [github/jonschlinkert](https://github.com/jonschlinkert)
+ [twitter/jonschlinkert](http://twitter.com/jonschlinkert) 
 
**Brian Woodward**
 
+ [github/doowb](https://github.com/doowb)
+ [twitter/doowb](http://twitter.com/doowb) 


## License
Copyright (c) 2015 Jon Schlinkert  
Released under the MIT license

Based on previous work by:
Copyright (c) 2009-2014 TJ Holowaychuk <tj@vision-media.ca>
Copyright (c) 2012-2013 Jared Hanson <http://jaredhanson.net/>

***

_This file was generated by [verb-cli](https://github.com/assemble/verb-cli) on March 01, 2015._
<!-- deps:helper-related -->
